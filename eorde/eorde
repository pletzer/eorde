#!/usr/bin/env python

import argparse
import sys
import netCDF4
import numpy
from eoPlanet import Planet
from eoColorCells import ColorCells
from eoColorbar import Colorbar
from eoDateTimes import DateTimes
from eoScene import Scene

def main(ar):

    parser = argparse.ArgumentParser(description='Visualize earth data')
    parser.add_argument('-c', dest='cellVarStdName', default='', help='Select cell variable by standard name')
    parser.add_argument('-f', dest='filename', default='', help='File name')
    args = parser.parse_args()

    if not len(args.filename):
        print('ERROR: must supply a file name')
        sys.exit(1)

    if not len(args.cellVarStdName):
        print('ERROR: must select a variable by its standard name')
        sys.exit(2)

    filename = args.filename

    planet = Planet(level=0)

    color = ColorCells(filename=filename, varStandardName=args.cellVarStdName, level=1)

    colorbar = Colorbar(color.getLookupTable())

    dateTimes = DateTimes(dts=color.getDateTimes(), pos=(0.6, 0.9), size=52, color=(0.2, 0.2, 0.2))

    s = Scene()
    s.setWindowSize(1260, 960)
    s.setBackground(0.7, 0.7, 0.7)
    s.addPipelines([planet, color, colorbar, dateTimes])
    s.start()


if __name__ == '__main__':
    main(sys.argv)




